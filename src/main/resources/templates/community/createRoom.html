<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Room</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            max-width: 600px;
            margin-top: 20px;
        }
        .btn-same-width {
            width: 100%;
        }
        .input-group {
            margin-bottom: 15px;
        }
    </style>
    <script>
        function toggleCustomRegionField(value) {
            var detailRegions = ['충청남도', '충청북도', '강원도', '전라남도', '전라북도', '경상북도', '경상남도'];
            var display = detailRegions.includes(value) ? 'block' : 'none';
            document.getElementById('customRegionDiv').style.display = display;
        }
        function toggleCustomCategoryField(value) {
            var customCategory = ['스터디','운동','보드게임','취미모임'];
            var display = customCategory.includes(value) ? 'block' : 'none';
            document.getElementById('customCategoryDiv').style.display = display;
        }
        function goBack() {
            window.history.back();
        }
    </script>
</head>
<body>
<div class="container text-center">
    <h1 class="py-5">소모임 생성하기</h1>
    <form action="#" th:action="@{/createRoom}" method="post">
        <div class="input-group">
            <label for="roomName">방 이름 :</label>
            <input type="text" id="roomName" name="roomName" class="form-control" required th:value="${roomName}">
        </div>

        <div class="input-group">
            <label for="category">모집할 소모임 :</label>
            <select id="category" name="category" class="form-control" required onchange="toggleCustomCategoryField(this.value)">
                <option value="스터디">스터디</option>
                <option value="운동">운동</option>
                <option value="보드게임">보드게임</option>
                <option value="취미모임">취미모임</option>
            </select>
        </div>
        <div id="customCategoryDiv" class="input-group" style="display:none;">
            <label for="customCategory">키워드 입력 :</label>
            <input type="text" id="customCategory" name="customCategory" class="form-control" style="width: 100%;" th:value="${customCategory}">
        </div>

        <div class="input-group">
            <label for="region">활동지역 :</label>
            <select id="region" name="region" class="form-control" required onchange="toggleCustomRegionField(this.value)">
                <option value="서울">서울</option>
                <option value="인천">인천</option>
                <option value="부산">부산</option>
                <option value="대전">대전</option>
                <option value="대구">대구</option>
                <option value="광주">광주</option>
                <option value="울산">울산</option>
                <option value="제주도">제주도</option>
                <option value="충청남도">충청남도</option>
                <option value="충청북도">충청북도</option>
                <option value="전라남도">전라남도</option>
                <option value="전라북도">전라북도</option>
                <option value="경상남도">경상남도</option>
                <option value="경상북도">경상북도</option>
                <option value="강원도">강원도</option>

            </select>
        </div>
        <div id="customRegionDiv" class="input-group" style="display:none;">
            <label for="customCategory">도시 입력 :</label>
            <input type="text" id="customRegion" name="customRegion" class="form-control" style="width: 100%;" th:value="${customRegion}">
        </div>

        <div class="input-group">
            <label for="numberOfParticipants">참여인원 :</label>
            <input type="number" id="numberOfParticipants" name="numberOfParticipants" class="form-control" required th:value="${numParticipants}">
        </div>

        <div class="input-group">
            <label for="payment">참여비용 :</label>
            <input type="number" id="payment" name="payment" class="form-control" required th:value="${payment}">
        </div>

        <button class="btn btn-secondary btn-lg mb-3" type="submit">Create Room</button>
        <button class="btn btn-dark btn-lg mb-3" type="button" onclick="goBack()">취소</button>
    </form>
</div>
</body>
</html>